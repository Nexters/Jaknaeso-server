# 가치관 분석

## 계산 규칙

- 하나의 캐릭터를 얻기 위해 제출해야 하는 설문 응답은 15개이다.
- 하나의 캐릭터는 15개의 데이터만을 활용하여 판별한다.
- 답변의 점수는 음수값을 가질 수 있다.
- 가치관마다 답변 개수가 상이하므로 가치관별 총 점수는 `100 / 가치관 종류 개수`로 한다.
- 마이너스 점수를 갖는 경우, 점수 범위가 왜곡될 수 있으므로 다음 규칙을 적용한다.

```text
최종 점수 = (원점수 - 최소 점수) / (최대 점수 - 최소 점수) * 가치관별 총 점수
```

### 가치관 지표 계산

- 가치관마다 동일한 비중을 부여하기 위해 가치관별 점수의 합은 `100 / 가치관 종류 개수`이다.
- 가치관마다 답변의 개수, 점수값이 다양하다.
- 가치관이 동일한 비율을 차지하기 위해서는 답변마다 가중치를 부여하여 점수의 합이 `100 / 가치관 종류 개수`가 되도록 조절해야 한다.
- 가중치를 계산하기 위해 답변의 개수, 양의 점수의 합, 음의 점수의 합을 구한다.

```yaml
input: 모험(1), 모험(-1), 안전(1), 보편(-1)
output:
  모험(2개,  1,  -1)
  안전(1개,  1,   0)
  보편(1개,  0,  -1)
```

### 가치관 답변 가중치 계산

- 가치관마다 답변의 개수가 다양하므로 답변마다 가중치를 곱하여 동일한 비중을 차지하도록 조절해야 한다.

```yaml
input: 모험(1), 모험(-1), 성공(1), 안전(1), 보편(-1) # 총 네 종류의 가중치가 존재하므로 가치관별 점수 합은 최대 25점이다
metrics:
  모험(2개,  1,  -1)
  성공(1개,  1,   0)
  안전(1개,  1,   0)
  보편(1개,  0,  -1)
output:
  모험: 12.50점  # 25점 / 2개 = 12.5점
  성공: 25.00점
  안전: 25.00점
  보편: 25.00점
```

### 가치관 점수 정규화

- 답변의 점수가 음의 점수인 경우, 특정 가치관의 점수 총합이 음의 값이 될 수 있다.
- 0부터 `100 / 가치관 종류 개수` 사이의 값을 얻기 위해 정규화한다.

```yaml
input: 모험(-1)
metrics:
  모험(2개,  1,  -1)
weight:
  모험: 12.50점
output:
  # 수정전 = -1 * 12.50 = -12.50점
  # 수정후 = (-12.50 - (-12.50)) / (12.50 - (-12.50)) * 25 = 0점
  0점
```