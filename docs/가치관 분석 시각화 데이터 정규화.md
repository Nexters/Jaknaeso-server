# 가치관 분석 시각화 데이터 정규화

> 해당 문서는 실제 코드에서 사용되는 식이 아닌, 새로운 식을 제안하는 문서입니다.

## 📄 **설문 응답 점수 정규화 과정**

---

### 📝 **문제 정의**
설문 응답 선택지에 **키워드(Keyword)**와 **점수(Score)**가 매핑되어 있음.  
각 설문 응답 결과를 통해 **정규화된 통계 지표**를 만들고자 함.

---

### 📊 **예시 데이터**

설문의 응답이 3개 존재한다고 가정:

| 응답 번호 | KeywordScore |
|:---------:|:------------:|
| 1번       | (성공, 1), (안전, -1) |
| 2번       | (보편, 1) |
| 3번       | (성공, 1), (보편, 2) |

---

### 🧮 **정규화 절차**

#### **1️⃣ 모든 응답의 KeywordScore 합산**

각 키워드별 점수 합산:

```
성공 = 1 (1번) + 1 (3번) = 2
안전 = -1 (1번)
보편 = 1 (2번) + 2 (3번) = 3
```

👉 **합산 결과**: `[(성공, 2), (안전, -1), (보편, 3)]`

---

#### **2️⃣ Min-Max 정규화 (0 ~ 1 스케일)**

- **최소값**: `min = -1` (안전)
- **최대값**: `max = 3` (보편)
- **상수**: `max-min / 10` (가장 낮은 가치관 키워드가 0%로 표시되지 않도록 상수 도입)

정규화 공식:

```
정규화 값 = (점수 - 최소값 + 상수) / (최대값 - 최소값 + 상수)
```

##### 각 키워드 정규화 계산
```
성공: (2 - (-1) + 0.4) / (3 - (-1) + 0.4) = 3.4/4.4 = 0.77
안전: (-1 - (-1) + 0.4) / (3 - (-1) + 0.4) = 0.4/4.4 = 0.09
보편: (3 - (-1) + 0.4) / (3 - (-1) + 0.4) = 4.4/4.4 = 1.00
```

👉 **정규화 결과**: `[(성공, 0.77), (안전, 0.09), (보편, 1.00)]`

---

#### **3️⃣ 0 ~ 100 스케일로 변환**

스케일링 공식:

```
스케일 값 = 정규화 값 × 100
```

##### 각 키워드 스케일 계산
```
성공: 0.77 × 100 = 77%
안전: 0.09 × 100 = 9%
보편: 1.00 × 100 = 100%
```

👉 **최종 결과**: `[(성공, 77%), (안전, 9%), (보편, 100%)]`

---

### ✅ **최종 정리**

| 키워드 | 합산 점수 | 정규화 값 (0~1) | 스케일 값 (0~100) |
|:------:|:---------:|:-----------:|:-------------:|
| 성공   | 2         |    0.77     |      77%      |
| 안전   | -1        |    0.09     |      9%       |
| 보편   | 3         |    1.00     |     100%      |

---

🔔 **참고**:
- **상수 도입 배경**: 가장 낮은 가치관 키워드의 경우, 응답을 선택했지만 상대적으로 점수가 가장 낮아 정규화 시 **0점 처리**됨. 이를 해소하기 위해 **상수**를 도입하여 최소값에도 점수가 부여되도록 함.
- **스케일 값**: 시각화 및 통계 해석 시 **0~100% 범위**로 사용.

---

## 논의되어야 할 사항
- 상수를 통해 어느정도 문제를 해결하였지만 범위 값에 대한 적절한 제한이 필요하다.
